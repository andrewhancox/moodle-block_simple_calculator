{"version":3,"sources":["../src/simple_calculator.js"],"names":["define","$","calculator","init","currentOperand","previousOperand","operation","document","on","number","text","includes","updateDisplay","toString","slice","calc","feature","finalValue","invalid","previous","parseFloat","current","previousValue"],"mappings":"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","sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with\n// Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\ndefine(['jquery'], function($) {\n    var calculator = {\n        init: function() {\n            var currentOperand = '';\n            var previousOperand = '';\n            var operation = null;\n            // NUMBER CLICKS\n            $(document).on('click', '.data-calculator-number', function() {\n                var number = $(this).text();\n                if (number === '.' && currentOperand.includes('.')) {\n                    calculator.updateDisplay(currentOperand, operation, previousOperand);\n                } else {\n                    currentOperand = currentOperand.toString() + number.toString();\n                    calculator.updateDisplay(currentOperand, operation, previousOperand);\n                }\n            });\n            // CLEAR DISPLAY\n            $(document).on('click', '.data-calculator-all-clear', function() {\n                currentOperand = '';\n                previousOperand = '';\n                operation = null;\n                calculator.updateDisplay(currentOperand, operation, previousOperand);\n            });\n            // DELETE NUMBER\n            $(document).on('click', '.data-calculator-delete', function() {\n                currentOperand = currentOperand.toString().slice(0, -1);\n                calculator.updateDisplay(currentOperand, operation, previousOperand);\n            });\n            // CALCULATOR OPS BUTTON\n            $(document).on('click', '.data-calculator-operation', function() {\n                if (operation !== null && currentOperand !== '' && previousOperand !== '') {\n                    $.calc('operation');\n                    previousOperand = currentOperand;\n                    currentOperand = '';\n                    calculator.updateDisplay(currentOperand, operation, previousOperand);\n                }\n                operation = $(this).text();\n                if (currentOperand !== '') {\n                    if (previousOperand !== '') {\n                        $.calc('operation');\n                    }\n                    previousOperand = currentOperand;\n                    currentOperand = '';\n                    calculator.updateDisplay(currentOperand, operation, previousOperand);\n                } else if (currentOperand === '') {\n                    if (previousOperand !== '') {\n                        calculator.updateDisplay(currentOperand, operation, previousOperand);\n                    }\n                }\n            });\n            // EQ BUTTON CLICK\n            $(document).on('click', '.data-calculator-equals', function() {\n                if (currentOperand !== '') {\n                    if (previousOperand !== '') {\n                        $.calc('equal');\n                    }\n                    calculator.updateDisplay(currentOperand, operation, previousOperand);\n                }\n            });\n            // CALCULATION\n            $.calc = function(feature) {\n                let finalValue;\n                var invalid = false;\n                const previous = parseFloat(previousOperand);\n                const current = parseFloat(currentOperand);\n                if (operation === '+') {\n                    finalValue = previous + current;\n                } else if (operation === '-') {\n                    finalValue = previous - current;\n                } else if (operation === '*') {\n                    finalValue = previous * current;\n                } else if (operation === 'รท') {\n                    finalValue = previous / current;\n                } else {\n                    invalid = true;\n                }\n                if (!invalid) {\n                    currentOperand = finalValue;\n                    if (feature === 'equal') {\n                        operation = null;\n                        previousOperand = '';\n                    }\n                }\n            };\n        },\n        updateDisplay: function(currentOperand, operation, previousOperand) {\n            var previousValue = '';\n            $(\"#data-block-calculator-current-operand\").text(currentOperand);\n            if (operation) {\n                previousValue = previousOperand + operation;\n                $(\"#data-block-calculator-previous-operand\").text(previousValue);\n            } else {\n                $(\"#data-block-calculator-previous-operand\").text('');\n            }\n        }\n    };\n    return calculator;\n});\n"],"file":"simple_calculator.min.js"}